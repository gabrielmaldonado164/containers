version: '3.8'

services:
  traefik:
    image: traefik:v2.8.1
    container_name: traefik
    ports:
      - "80:80" # Traefik HTTP port
      - "443:443" # Traefik HTTPS port
      - "8080:8080" # Traefik Admin port
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock # Docker socket
      - ./traefik.yml:/traefik.yml # Traefik configuration file
      - ./acme.json:/acme.json # Traefik lets you use Let's Encrypt to secure your services
    networks:
      - proxy
  
networks:
  proxy:
    name: proxy_net
    driver: bridge # Use the bridge network driver
    ipam:
      driver: default # Use the default IPAM driver
